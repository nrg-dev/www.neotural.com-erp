<div class="modal-header">
    <div class="container">
        <h4 class="modal-title" id="modal-basic-title">{{headerlabel}} Purchase Return</h4>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="closeModal()">
      <span aria-hidden="true" class="close-x">&times;</span>
    </button>
</div>
<div class="modal-body">
    <div class="container">
        <form name="returnForm"
            (submit)="returnForm.form.valid && addReturn()"
            #returnForm="ngForm" novalidate>

            <div style="background: #253F4B;">

                <div class="row marginRow">
                    <div class="col-25">
                        <label class="heading">Vendor	</label>
                    </div>
                    <div class="col-75">
                        <label>{{ this.model.vendorname }}</label>
                    </div>
                </div>
                <div style="margin-top: 20px;"></div>
            
                <div class="row marginRow">
                    <div class="col-25">
                    <label class="heading">Product Name	</label>
                    </div>
                    <div class="col-75">
                        <select id="selected-box" class="text-field-align" [(ngModel)]="model.productname" #productname="ngModel" name="productname"
                        (ngModelChange)="getProductName(model.productname)" autocomplete="off" required>
                            <option id="options-box" [ngValue]="undefined" hidden selected> Select Product </option>
                            <option id="options-box" *ngFor="let item of orderReturnList" 
                              [value]="item.productname"> {{item.productname}} 
                            </option>
                        </select>
                    </div>
                </div>
                <div style="margin-bottom: 5px;"></div>
            
                <div class="row marginRow">
                    <div class="col-25">
                    <label class="heading">Quantity Invoiced</label>
                    </div>
                    <div class="col-75">
                        <label>{{ this.model.invqty }}</label> 
                    </div>
                </div>
                
                <div class="row marginRow">
                    <div class="col-25">
                    <label class="heading">Date Invoiced</label>
                    </div>
                    <div class="col-75">
                        <label>{{ this.model.date | date : 'dd/MM/yyyy' }} </label>
                    </div>
                </div>
            </div>
            <div style="height: 20px;"></div>

            <br/>
            <div class="row marginRow">
                <div class="col-25">
                <label class="heading1">Item Status	</label>
                </div>
            </div>
            
            <div class="row marginRow">
                <div class="col-100">
                    <input id="damaged" type="radio" class="regular-radio" value="damaged" 
                        [(ngModel)]="model.itemstatus" #itemstatus="ngModel" name="itemstatus"
                        (ngModelChange)="getItemValid(model.itemstatus)">
                    <label for="damaged" id="radiolabel">Damaged</label>
                    &nbsp;&nbsp;&nbsp;

                    <input id="expired" type="radio" class="regular-radio" value="expired" 
                        [(ngModel)]="model.itemstatus" #itemstatus="ngModel" name="itemstatus"
                        (ngModelChange)="getItemValid(model.itemstatus)">
                    <label for="expired" id="radiolabel">Expired</label>
                    &nbsp;&nbsp;&nbsp;

                    <input id="others" type="radio" class="regular-radio" value="others"
                        [(ngModel)]="model.itemstatus" #itemstatus="ngModel" name="itemstatus"
                        (ngModelChange)="getItemValid(model.itemstatus)">
                    <label for="others" id="radiolabel">Others</label>
                </div>
            </div>
            <br/>
            <div class="row marginRow">
                <div class="col-25">
                <label class="heading1">Repayment Method	</label>
                </div>        
            </div>

            <div class="row marginRow">
                <div class="col-100">
                    <input type="radio" class="regular-radio" value="cash"  [(ngModel)]="model.paymentType" #paymentType="ngModel"
                        id="cash" name="paymentType" (ngModelChange)="getPaymentValid(model.paymentType)">
                    <label id="radiolabel">Cash</label>  
                        &nbsp;&nbsp;&nbsp;
                    <input type="radio" class="regular-radio" value="credit" [(ngModel)]="model.paymentType" #paymentType="ngModel"
                        id="credit" name="paymentType" (ngModelChange)="getPaymentValid(model.paymentType)">
                    <label id="radiolabel">Credit</label>
                        &nbsp;&nbsp;&nbsp;
                    
                    <input  type="radio" class="regular-radio" value="voucher" [(ngModel)]="model.paymentType" #paymentType="ngModel"
                        id="voucher" name="paymentType" (ngModelChange)="getPaymentValid(model.paymentType)">
                    <label id="radiolabel">Voucher</label>
                </div>  
                
            </div>
            <br/>

            <div class="row marginRow">
                <div class="col-4">
                    <label class="heading1">Return Quantity</label>
                </div>
                <div class="col-2"></div>
                <div class="col-4">
                    <label class="heading1">Price</label>
                </div>
            </div>

            <div class="row marginRow">
                <div class="col-4">
                    <input type="number" id="qtyBox" [(ngModel)]="model.quantity" #quantity="ngModel" 
                        min="0" [max]="this.model.invqty" name="quantity" (ngModelChange)="getPrice(model.quantity)" 
                        onkeypress='return (event.charCode > 96 && event.charCode < 123) || (event.charCode > 64 && event.charCode < 91) || (event.charCode >= 48 && event.charCode <= 57) || event.charCode <= 31'
                        autocomplete="off" required  />
                </div>
                <div class="col-2"></div>
                <div class="col-4">
                    <label id="priceBox">{{ this.model.price }}</label>
                </div>
            </div>

            <br/>
            <!-- <div *ngIf="quantity.errors && (quantity.dirty || quantity.touched) ||
                (returnForm.submitted && !quantity.valid )">
                <span [hidden]="!quantity.errors.required" class="spanerror">
                    Required field cannot be left blank
                </span>
            </div> -->
            <br/>
        
            <div class="row marginRow">
                <div class="col-30"></div>
                <div class="col-40">
                    <button class="save-button" [disabled]="model.quantity == 0 || this.model.qtystatus === 'Above' ">{{btnsave}} </button>
                </div>
                <div class="col-30"></div>
            </div>
            <div style="height: 20px;"></div>
        </form>
    </div>
</div>